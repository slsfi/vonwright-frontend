/*
  * INSTRUCTIONS FOR USING CUSTOM.SCSS

  In this file you can:

  1. Add project specific styles that can expand or override
     the default styles.
  2. Override the global CSS variables defined in
     /src/theme/_variables.scss.
  3. Override the scoped CSS variables defined in the various
     files in /src/theme/scoped-variables.

  * OVERRIDE GLOBAL CSS VARIABLES
  
  To override global CSS variables, wrap them in the :root selector.
  Example of overriding a global CSS variable:

  :root {
    --primary-color: #281f47;
  }

  * OVERRIDE SCOPED CSS VARIABLES

  To override scoped CSS variables, wrap them in the appropriate
  page/component element selectors. The required selectors are listed
  in the files in /src/theme/scoped-variables. You must also either
  add the !important property to the variable values, or increase the
  specificity of the selector by adding the [class][class] attribute
  selectors directly after the element selector. Otherwise these variables
  won’t take precedence. Examples of overriding scoped CSS variables:

  page-elastic-search[class][class] {
    --inl-color: #000;
  }

  or (less preferred):

  page-elastic-search {
    --inl-color: #000 !important;
  }

  * ALTERNATIVE TO OVERRIDING CSS VARIABLES

  Instead of using custom.scss to override CSS variables you can also
  directly edit the variable values in /src/theme/_variables.scss
  and in the various files in /src/theme/scoped-variables.
  
  The pros of this approach are that the size of the CSS bundle of the
  website becomes slightly smaller, since CSS variables with the same
  property names are not defined twice. This speeds up page loading a bit.
  The cons are that the risk for merge conflicts between the base app
  and the project app increases if the CSS variables are modified in the
  base app.

  If you directly edit /src/theme/_variables.scss or the files in
  /src/theme/scoped-variables it’s recommended that you leave the default
  values of the variables as comments at the end of edited lines.

  * REFERENCE FOR OVERRIDING CSS VARIABLES

  This is a complete reference of both global and scoped CSS variables that
  can be overridden in custom.scss, including the required selectors and
  default values of the variables:

  :root {
    --primary-color:                    #497083;
    --primary-color-rgb:                73, 112, 131;
    --primary-color-contrast:           #fff;
    --secondary-color:                  #d6d6d6;
    --secondary-color-contrast:         #000;
    --tertiary-color:                   var(--main-background-color);
    --default-link-color:               #004aa5;
    --main-background-color:            #ededed;
    --main-background-accent-color:     #ccc;
    --route-loading-progress-bar-color: rgba(255, 255, 255, 0.8);
    --search-match-background-color:    #a5d7a5;
    --text-area-background-color:       #fafafa;

    --button-background-color:               var(--primary-color);
    --button-text-color:                     var(--primary-color-contrast);
    --fab-button-primary-background-color:   var(--primary-color);
    --fab-button-primary-icon-color:         var(--primary-color-contrast);
    --fab-button-secondary-background-color: #e9e9e9;
    --fab-button-secondary-icon-color:       #000;
    --outline-button-color:                  var(--primary-color);

    --font-stack-system:             -apple-system, BlinkMacSystemFont, "Segoe UI",
                                     Roboto, Oxygen-Sans, Ubuntu, Cantarell,
                                     "Helvetica Neue", sans-serif;
    --font-stack-app-base:           "Roboto", var(--font-stack-system);
    --font-stack-home-banner:        var(--font-stack-app-base);
    --font-stack-tei:                "SourceSerif", Constantia, "Lucida Bright",
                                     Lucidabright, "Lucida Serif", Lucida,
                                     "DejaVu Serif", "Bitstream Vera Serif",
                                     "Liberation Serif", Georgia, serif;
    --font-stack-tei-blackletter:    "Roboto", var(--font-stack-system);
    --font-stack-tei-print-stamp:    Cambria, "Hoefler Text", Utopia,
                                     "Liberation Serif", "Nimbus Roman No9 L Regular",
                                     Times, "Times New Roman", serif;
    --font-stack-tei-editorial-note: "Helvetica Neue", "Arial Nova", Helvetica,
                                     Arial, sans-serif;
  }

  ion-app[class][class] {
    --abbreviations-color:     #ffe2fa;
    --emendations-color:       #ccc;
    --normalisations-color:    #e6e6e6;
    --pageBreakEdition-color:  #8f6b28;
    --pageBreakOriginal-color: #b32fa0;
    --persName-color:          #f9e0bf;
    --placeName-color:         #dee8ca;
    --workTitle-color:         #f7efba;

    --info-overlay-background-color: #333;
    --info-overlay-text-color:       #e3e3e3;
    --info-overlay-link-color:       #84cce3;

    --secondary-toolbar-color:          var(--secondary-color);
    --secondary-toolbar-color-contrast: var(--secondary-color-contrast);

    --side-menu-text-color:                        #000;
    --side-menu-background-color:                  var(--main-background-color);
    --side-menu-border-right-color:                #dedede;
    --side-menu-divider-color:                     #dedede;
    --side-menu-hover-color:                       var(--primary-color);
    --side-menu-description-text-color:            #4f4f4f;
    --side-menu-collection-title-text-color:       var(--side-menu-text-color);
    --side-menu-collection-title-background-color: #bababa;
    --side-menu-back-button-text-color:            var(--secondary-toolbar-color-contrast);
    --side-menu-back-button-background-color:      var(--secondary-toolbar-color);
    --side-menu-selected-text-color:               var(--side-menu-text-color);
    --side-menu-selected-font-weight:              bold;
    --side-menu-selected-background-color:         transparent;
    --side-menu-selected-hover-color:              var(--side-menu-hover-color);
    --side-menu-selected-description-text-color:   var(--side-menu-description-text-color);

    --text-changer-mobile-color:          var(--secondary-toolbar-color);
    --text-changer-mobile-color-contrast: var(--secondary-toolbar-color-contrast);

    --top-menu-height:                         62px;
    --top-menu-toolbar-button-icons-font-size: 1.875rem;
    --top-menu-button-filter:                  drop-shadow(0 1px 3px rgba(35, 35, 35, .3));
    --top-menu-logo-height:                    56px;
  }

  page-elastic-search[class][class] {
    --com-color:  #980202;
    --est-color:  #0a2a80;
    --fore-color: #113c49;
    --inl-color:  #812b5d;
    --ms-color:   #69863a;
    --tit-color:  #5e1a06;
    --var-color:  #803fa7;

    --hititem-border-color:           var(--main-background-accent-color);
    --hititem-hover-background-color: #fff;
    --hititem-hover-border-color:     var(--outline-button-color);

    --search-match-highlight-background-color: var(--search-match-background-color);
    --search-match-highlight-text-color:       #000;

    --date-histogram-year-bar-color:      var(--primary-color);
    --date-histogram-year-hover-color:    var(--secondary-color);
    --date-histogram-year-in-range-color: #751e22;
  }

  page-index[class][class] {
    --list-item-background-color:       transparent;
    --list-item-border-color:           var(--main-background-accent-color);
    --list-item-hover-background-color: #f5f5f5;
    --list-heading-background-color:    #e0e0e0;
    --list-heading-border-color:        #979797;
  }

  page-introduction[class][class] {
    --intro-toc-background-color: var(--secondary-toolbar-color);
    --intro-toc-text-color:       var(--secondary-toolbar-color-contrast);
  }

  page-text[class][class] {
    --error-variant-background-color:           #f3c598;
    --interpunction-variant-background-color:   #dbf0ec;
    --lemma-identical-variant-background-color: #fff1b9;
    --orthographic-variant-background-color:    #eee6ff;
    --substantial-variant-background-color:     #fee0e2;
    --typographic-variant-background-color:     #f6e65b;
    --variant-background-color:                 #c5c5c5;
  }

*/

/* Added custom variables */
:root {
  --custom-action-color:          #497083;
  --custom-action-color-contrast: #fff;
}

/* Override CSS variables */
:root {
  --primary-color:                        #b2d0ea;
  --primary-color-rgb:                    178, 208, 234;
  --primary-color-contrast:               #000;
  --secondary-color:                      #e6e6e6;
  --main-background-color:                #f2f2f2;
  --route-loading-progress-bar-color:     rgba(0, 0, 0, 0.2);

  --button-background-color:               var(--custom-action-color);
  --button-text-color:                     var(--custom-action-color-contrast);
  --fab-button-primary-background-color:   var(--custom-action-color);
  --fab-button-primary-icon-color:         var(--custom-action-color-contrast);
  --outline-button-color:                  var(--custom-action-color);
}

ion-app[class][class] {
  --top-menu-button-filter:                      none;

  --side-menu-hover-color:                       var(--custom-action-color);
  --side-menu-collection-title-background-color: #cecece;
}

page-introduction[class][class] {
  --intro-toc-background-color: #d4e4f1;
}

/* Custom, project specific styles */

page-home {
  .title-wrapper .banner-title {
    background-color: transparent;
  }

  .frontpage-editions-list {
    column-gap: 4em;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin: 2.75em 0;

    h2 {
      margin: 1em 0;
    }

    h3 {
      font-size: 1em;
      font-style: italic;
      font-weight: normal;

      &.extra-bottom-margin {
        margin-bottom: 2.5rem;
      }
    }

    p {
      text-align: left;
    }

    img {
      border: 0.75rem solid #fff;
      max-height: 440px;
      max-width: 300px;
    }
  }

  .frontpage-editions-list-col {
    margin-bottom: 2.5em;
    max-width: 440px;
    width: 100%;
  }

  .text-content div.site-presentation.markdown.markdown {
    max-width: 1600px;

    .intro-paragraph {
      margin-left: auto;
      margin-right: auto;
      max-width: 1000px;
      text-align: left;
    }
  }

  /* Reducera höjden på startsidans banner på smala skärmar */
  @media screen and (max-width: 1100px) {
    div.banner.banner {
      height: 40%;
      min-height: 40%;
    }
  }
  @media screen and (max-width: 600px) {
    div.banner.banner {
      height: 30%;
      min-height: 30%;

      /* Preserve newline character in title */
      .title-wrapper .banner-title {
        white-space: pre-line;
      }
    }
  }
}

/* Marginal ovanför titeln på titelsidorna. */
page-title div.tei h1.title {
  margin-top: 1.25em;
}

div.tei {
  /* Stilar för brev. */
  div.teiOpener {
    margin: 1em 0 0.5em 0;

    p.address,
    p.dateline {
      margin: 0;
      text-align: right;

      + p.salute {
        margin-top: 1.5em;
      }
    }
  }
  div.teiCloser {
    margin: 1em 0 1.5em 1.25em;
  }

  /* Inledande avsnitt i Om Wittgenstein, chapter 2 */
  div.preamble p {
    color: #636363;
  }

  /* Avsnitt med litteraturtips i Om Wittgenstein-lästexter */
  div.literature {
    font-size: 0.9em;
  }

  /* Referenser i punktkommentarer. */
  .teiComment.noteReference {
    display: block;
    font-size: 0.85em;
    line-height: 1.55;
    margin-top: 0.5em;
  }
}

page-elastic-search {
  .info.markdown {
    /* Sökinstruktionerna i avancerade sökningen */
    details {
      padding: .5em .5em 0;

      ul li {
        line-height: 1.5;
      }

      ul li + li {
        padding-top: 0.75em;
      }
    }

    summary {
      font-weight: bold;
      margin: -.5em -.5em 0;
      padding: .5em;
    }

    details[open] {
      border-bottom: 1px solid #aaa;
      padding: .5em;

      summary {
        border-bottom: 1px solid #aaa;
        margin-bottom: .5em;
      }
    }

    .query_example {
      background-color: #fdfdfd;
      border: 1px solid var(--button-background-color);
      border-radius: 3px;
      color: var(--button-background-color);
      font-family: monospace;
      font-size: 0.889em;
      padding: 0.125em 0.25em;
    }
  }
}

/* Cookiebannern */
a.cky-banner-element {
  cursor: pointer;
  text-decoration: underline;
}
#cky-consent,
#cky-settings-popup {
	font-family: var(--font-stack-app-base);
}
